import * as React from "react";
import {
  setupRequestHandlers,
  startMSW,
  mockCurrentUser
} from "@redwoodjs/testing/web";
import { MockProviders } from "./MockProviders";
const MockingLoader = async () => {
  import.meta.glob("~__REDWOOD__USER_WEB_SRC/**/*.+(mock).(js|ts)", {
    eager: true
  });
  await startMSW("browsers");
  setupRequestHandlers();
  return {};
};
const StorybookProvider = ({ storyFn }) => {
  mockCurrentUser(null);
  return /* @__PURE__ */ React.createElement(MockProviders, null, storyFn());
};
export {
  MockingLoader,
  StorybookProvider
};
