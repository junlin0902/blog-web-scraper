"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var buildRscClientAndServer_exports = {};
__export(buildRscClientAndServer_exports, {
  buildRscClientAndServer: () => buildRscClientAndServer
});
module.exports = __toCommonJS(buildRscClientAndServer_exports);
var import_rscBuildAnalyze = require("./rsc/rscBuildAnalyze.js");
var import_rscBuildClient = require("./rsc/rscBuildClient.js");
var import_rscBuildCopyCssAssets = require("./rsc/rscBuildCopyCssAssets.js");
var import_rscBuildEntriesFile = require("./rsc/rscBuildEntriesFile.js");
var import_rscBuildForServer = require("./rsc/rscBuildForServer.js");
var import_rscBuildForSsr = require("./rsc/rscBuildForSsr.js");
var import_rscBuildRwEnvVars = require("./rsc/rscBuildRwEnvVars.js");
const buildRscClientAndServer = async ({
  verbose = false
}) => {
  const { clientEntryFiles, serverEntryFiles } = await (0, import_rscBuildAnalyze.rscBuildAnalyze)();
  const clientBuildOutput = await (0, import_rscBuildClient.rscBuildClient)(clientEntryFiles);
  const ssrBuildOutput = await (0, import_rscBuildForSsr.rscBuildForSsr)({ clientEntryFiles, verbose });
  const serverBuildOutput = await (0, import_rscBuildForServer.rscBuildForServer)(
    clientEntryFiles,
    serverEntryFiles,
    {}
  );
  await (0, import_rscBuildCopyCssAssets.rscBuildCopyCssAssets)(serverBuildOutput);
  await (0, import_rscBuildEntriesFile.rscBuildEntriesMappings)(
    clientBuildOutput,
    ssrBuildOutput,
    serverBuildOutput,
    clientEntryFiles
  );
  await (0, import_rscBuildRwEnvVars.rscBuildRwEnvVars)();
};
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  buildRscClientAndServer
});
